{
  "version": 3,
  "sources": ["../../../../src/utils/openapi/commands/validateCommand.ts"],
  "sourcesContent": ["import type { AnyObject, Queue, Task, ValidateResult } from '@/types/index'\nimport type { DereferenceOptions } from '@/utils/dereference'\nimport type { ValidateOptions } from '@/utils/validate'\nimport { details } from '../actions/details'\nimport { files } from '../actions/files'\nimport { get } from '../actions/get'\nimport { toJson } from '../actions/toJson'\nimport { toYaml } from '../actions/toYaml'\nimport { queueTask } from '../utils/queueTask'\nimport { dereferenceCommand } from './dereferenceCommand'\nimport { filterCommand } from './filterCommand'\nimport { upgradeCommand } from './upgradeCommand'\n\ndeclare global {\n  interface Commands {\n    validate: {\n      task: {\n        name: 'validate'\n        options?: ValidateOptions\n      }\n      result: ValidateResult\n    }\n  }\n}\n\n/**\n * Validate the given OpenAPI document\n */\nexport function validateCommand<T extends Task[]>(previousQueue: Queue<T>, options?: ValidateOptions) {\n  const task: Task = {\n    name: 'validate',\n    options: {\n      throwOnError: previousQueue.options?.throwOnError,\n      ...(options ?? {}),\n    },\n  }\n\n  const queue = queueTask<[...T, typeof task]>(previousQueue, task as Task)\n\n  return {\n    dereference: (dereferenceOptions?: DereferenceOptions) => dereferenceCommand(queue, dereferenceOptions),\n    details: () => details(queue),\n    files: () => files(queue),\n    filter: (callback: (specification: AnyObject) => boolean) => filterCommand(queue, callback),\n    get: () => get(queue),\n    toJson: () => toJson(queue),\n    toYaml: () => toYaml(queue),\n    upgrade: () => upgradeCommand(queue),\n  }\n}\n"],
  "mappings": "AAGA,SAAS,eAAe;AACxB,SAAS,aAAa;AACtB,SAAS,WAAW;AACpB,SAAS,cAAc;AACvB,SAAS,cAAc;AACvB,SAAS,iBAAiB;AAC1B,SAAS,0BAA0B;AACnC,SAAS,qBAAqB;AAC9B,SAAS,sBAAsB;AAiBxB,SAAS,gBAAkC,eAAyB,SAA2B;AACpG,QAAM,OAAa;AAAA,IACjB,MAAM;AAAA,IACN,SAAS;AAAA,MACP,cAAc,cAAc,SAAS;AAAA,MACrC,GAAI,WAAW,CAAC;AAAA,IAClB;AAAA,EACF;AAEA,QAAM,QAAQ,UAA+B,eAAe,IAAY;AAExE,SAAO;AAAA,IACL,aAAa,CAAC,uBAA4C,mBAAmB,OAAO,kBAAkB;AAAA,IACtG,SAAS,MAAM,QAAQ,KAAK;AAAA,IAC5B,OAAO,MAAM,MAAM,KAAK;AAAA,IACxB,QAAQ,CAAC,aAAoD,cAAc,OAAO,QAAQ;AAAA,IAC1F,KAAK,MAAM,IAAI,KAAK;AAAA,IACpB,QAAQ,MAAM,OAAO,KAAK;AAAA,IAC1B,QAAQ,MAAM,OAAO,KAAK;AAAA,IAC1B,SAAS,MAAM,eAAe,KAAK;AAAA,EACrC;AACF;",
  "names": []
}
