{
  "version": 3,
  "sources": ["../../../../src/utils/openapi/commands/upgradeCommand.ts"],
  "sourcesContent": ["import type { AnyObject, Queue, Task, UpgradeResult } from '@/types/index'\nimport type { DereferenceOptions } from '@/utils/dereference'\nimport type { ValidateOptions } from '@/utils/validate'\nimport { details } from '../actions/details'\nimport { files } from '../actions/files'\nimport { get } from '../actions/get'\nimport { toJson } from '../actions/toJson'\nimport { toYaml } from '../actions/toYaml'\nimport { queueTask } from '../utils/queueTask'\nimport { dereferenceCommand } from './dereferenceCommand'\nimport { filterCommand } from './filterCommand'\nimport { validateCommand } from './validateCommand'\n\ndeclare global {\n  interface Commands {\n    upgrade: {\n      task: {\n        name: 'upgrade'\n      }\n      result: UpgradeResult\n    }\n  }\n}\n\n/**\n * Upgrade the given OpenAPI document\n */\nexport function upgradeCommand<T extends Task[]>(previousQueue: Queue<T>) {\n  const task: Task = {\n    name: 'upgrade',\n  }\n\n  const queue = queueTask<[...T, typeof task]>(previousQueue, task as Task)\n\n  return {\n    dereference: (dereferenceOptions?: DereferenceOptions) => dereferenceCommand(queue, dereferenceOptions),\n    details: () => details(queue),\n    files: () => files(queue),\n    filter: (callback: (specification: AnyObject) => boolean) => filterCommand(queue, callback),\n    get: () => get(queue),\n    toJson: () => toJson(queue),\n    toYaml: () => toYaml(queue),\n    validate: (validateOptions?: ValidateOptions) => validateCommand(queue, validateOptions),\n  }\n}\n"],
  "mappings": "AAGA,SAAS,eAAe;AACxB,SAAS,aAAa;AACtB,SAAS,WAAW;AACpB,SAAS,cAAc;AACvB,SAAS,cAAc;AACvB,SAAS,iBAAiB;AAC1B,SAAS,0BAA0B;AACnC,SAAS,qBAAqB;AAC9B,SAAS,uBAAuB;AAgBzB,SAAS,eAAiC,eAAyB;AACxE,QAAM,OAAa;AAAA,IACjB,MAAM;AAAA,EACR;AAEA,QAAM,QAAQ,UAA+B,eAAe,IAAY;AAExE,SAAO;AAAA,IACL,aAAa,CAAC,uBAA4C,mBAAmB,OAAO,kBAAkB;AAAA,IACtG,SAAS,MAAM,QAAQ,KAAK;AAAA,IAC5B,OAAO,MAAM,MAAM,KAAK;AAAA,IACxB,QAAQ,CAAC,aAAoD,cAAc,OAAO,QAAQ;AAAA,IAC1F,KAAK,MAAM,IAAI,KAAK;AAAA,IACpB,QAAQ,MAAM,OAAO,KAAK;AAAA,IAC1B,QAAQ,MAAM,OAAO,KAAK;AAAA,IAC1B,UAAU,CAAC,oBAAsC,gBAAgB,OAAO,eAAe;AAAA,EACzF;AACF;",
  "names": []
}
