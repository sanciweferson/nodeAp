{
  "version": 3,
  "sources": ["../../../../src/utils/transform/utils/addMissingTags.ts"],
  "sourcesContent": ["import type { AnyObject } from '@/types/index'\n\nexport const addMissingTags = (definition: AnyObject) => {\n  if (!definition.paths) {\n    return definition\n  }\n\n  // Collect all unique tags used in operations\n  const usedTags = new Set<string>()\n  for (const path of Object.values(definition.paths)) {\n    if (typeof path === 'object' && path !== null) {\n      for (const operation of Object.values(path)) {\n        if (typeof operation === 'object' && operation !== null && 'tags' in operation) {\n          const tags = operation.tags\n\n          if (Array.isArray(tags)) {\n            tags.forEach((tag) => usedTags.add(String(tag)))\n          }\n        }\n      }\n    }\n  }\n\n  // Convert tags to array of tag objects if not already present\n  const existingTags = new Set(\n    (Array.isArray(definition.tags) ? definition.tags : [])\n      .map((tag) => (typeof tag === 'object' && tag !== null ? String(tag.name) : null))\n      .filter(Boolean),\n  )\n\n  // Add missing tags\n  const missingTags = [...usedTags].filter((tag) => !existingTags.has(tag)).map((name) => ({ name }))\n\n  return {\n    ...definition,\n    tags: [...(Array.isArray(definition.tags) ? definition.tags : []), ...missingTags],\n  }\n}\n"],
  "mappings": "AAEO,MAAM,iBAAiB,CAAC,eAA0B;AACvD,MAAI,CAAC,WAAW,OAAO;AACrB,WAAO;AAAA,EACT;AAGA,QAAM,WAAW,oBAAI,IAAY;AACjC,aAAW,QAAQ,OAAO,OAAO,WAAW,KAAK,GAAG;AAClD,QAAI,OAAO,SAAS,YAAY,SAAS,MAAM;AAC7C,iBAAW,aAAa,OAAO,OAAO,IAAI,GAAG;AAC3C,YAAI,OAAO,cAAc,YAAY,cAAc,QAAQ,UAAU,WAAW;AAC9E,gBAAM,OAAO,UAAU;AAEvB,cAAI,MAAM,QAAQ,IAAI,GAAG;AACvB,iBAAK,QAAQ,CAAC,QAAQ,SAAS,IAAI,OAAO,GAAG,CAAC,CAAC;AAAA,UACjD;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAGA,QAAM,eAAe,IAAI;AAAA,KACtB,MAAM,QAAQ,WAAW,IAAI,IAAI,WAAW,OAAO,CAAC,GAClD,IAAI,CAAC,QAAS,OAAO,QAAQ,YAAY,QAAQ,OAAO,OAAO,IAAI,IAAI,IAAI,IAAK,EAChF,OAAO,OAAO;AAAA,EACnB;AAGA,QAAM,cAAc,CAAC,GAAG,QAAQ,EAAE,OAAO,CAAC,QAAQ,CAAC,aAAa,IAAI,GAAG,CAAC,EAAE,IAAI,CAAC,UAAU,EAAE,KAAK,EAAE;AAElG,SAAO;AAAA,IACL,GAAG;AAAA,IACH,MAAM,CAAC,GAAI,MAAM,QAAQ,WAAW,IAAI,IAAI,WAAW,OAAO,CAAC,GAAI,GAAG,WAAW;AAAA,EACnF;AACF;",
  "names": []
}
